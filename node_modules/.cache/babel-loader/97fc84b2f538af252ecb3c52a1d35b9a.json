{"ast":null,"code":"import _slicedToArray from\"/home/jarri/Desktop/Work/Microverse/capstones/capstone-3-files/capstone-3_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unused-vars */import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import Card from'./Card';import{filterCountries}from'../redux/filter/filter';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Displayer(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),locationsReducer=_useSelector.locationsReducer;var _useSelector2=useSelector(function(state){return state;}),filtersReducer=_useSelector2.filtersReducer;var countries=locationsReducer.countries,imgs=locationsReducer.imgs,locations=locationsReducer.locations;var countriesFiltered=filtersReducer.countriesFiltered,locationsFiltered=filtersReducer.locationsFiltered,imgsFiltered=filtersReducer.imgsFiltered;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),countriesOld=_useState2[0],setCountriesOld=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),locationsOld=_useState4[0],setLocationsOld=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),imgsOld=_useState6[0],setImgsOld=_useState6[1];var filter=function filter(e){var value=e.target.value;var payload={value:value,locations:locations,imgs:imgs};dispatch(filterCountries(payload));};useEffect(function(){if(!countriesFiltered){if(countries!==countriesOld||locations!==locationsOld){setCountriesOld(countries);setLocationsOld(locations);setImgsOld(imgs);}}else if(countriesFiltered!==countriesOld){setCountriesOld(countriesFiltered);setLocationsOld(locationsFiltered);setImgsOld(imgsFiltered);}});return/*#__PURE__*/_jsxs(\"div\",{className:\"locations-displayer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"stats\",children:\"STATS BY COUNTRY\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter-category\",placeholder:\"Category\",onChange:filter,id:\"input-category\",name:\"input-category\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"-\",children:\" - \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finland\",children:\"Finland\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sweden\",children:\"Sweden\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Norway\",children:\"Norway\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Denmark\",children:\"Denmark\"})]})]}),locationsOld?/*#__PURE__*/_jsx(\"div\",{className:\"displayer-countries\",children:countriesOld.map(function(c,index){return/*#__PURE__*/_jsx(Link,{to:{pathname:\"\".concat(process.env.PUBLIC_URL,\"/Details\"),itemProps:{countryName:c,data:locationsOld[index],img:imgsOld[index]}},active:\"true\",exact:\"true\",children:/*#__PURE__*/_jsx(Card,{cities:locationsOld[index],img:imgsOld[index],country:c})},c);})}):/*#__PURE__*/_jsx(\"h5\",{className:\"empty\",children:\"Empty Collection\"})]});}export default Displayer;","map":{"version":3,"sources":["/home/jarri/Desktop/Work/Microverse/capstones/capstone-3-files/capstone-3_redux/src/components/Displayer.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","Card","filterCountries","Displayer","dispatch","state","locationsReducer","filtersReducer","countries","imgs","locations","countriesFiltered","locationsFiltered","imgsFiltered","countriesOld","setCountriesOld","locationsOld","setLocationsOld","imgsOld","setImgsOld","filter","e","value","target","payload","map","c","index","pathname","process","env","PUBLIC_URL","itemProps","countryName","data","img"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Card from './Card';\nimport { filterCountries } from '../redux/filter/filter';\n\nfunction Displayer() {\n  const dispatch = useDispatch();\n  const { locationsReducer } = useSelector((state) => state);\n  const { filtersReducer } = useSelector((state) => state);\n  const { countries, imgs, locations } = locationsReducer;\n  const { countriesFiltered, locationsFiltered, imgsFiltered } = filtersReducer;\n  const [countriesOld, setCountriesOld] = useState(null);\n  const [locationsOld, setLocationsOld] = useState(null);\n  const [imgsOld, setImgsOld] = useState(null);\n\n  const filter = (e) => {\n    const { value } = e.target;\n    const payload = { value, locations, imgs };\n    dispatch(filterCountries(payload));\n  };\n\n  useEffect(() => {\n    if (!countriesFiltered) {\n      if (countries !== countriesOld || locations !== locationsOld) {\n        setCountriesOld(countries);\n        setLocationsOld(locations);\n        setImgsOld(imgs);\n      }\n    } else if (countriesFiltered !== countriesOld) {\n      setCountriesOld(countriesFiltered);\n      setLocationsOld(locationsFiltered);\n      setImgsOld(imgsFiltered);\n    }\n  });\n\n  return (\n    <div className=\"locations-displayer\">\n      <div className=\"stats\">\n        <h6 className=\"stats\">STATS BY COUNTRY</h6>\n        <select\n          className=\"filter-category\"\n          placeholder=\"Category\"\n          onChange={filter}\n          id=\"input-category\"\n          name=\"input-category\"\n        >\n          <option value=\"-\"> - </option>\n          <option value=\"Finland\">Finland</option>\n          <option value=\"Sweden\">Sweden</option>\n          <option value=\"Norway\">Norway</option>\n          <option value=\"Denmark\">Denmark</option>\n        </select>\n      </div>\n\n      {locationsOld ? (\n        <div className=\"displayer-countries\">\n          {countriesOld.map((c, index) => (\n            <Link\n              key={c}\n              to={{\n                pathname: `${process.env.PUBLIC_URL}/Details`,\n                itemProps: {\n                  countryName: c,\n                  data: locationsOld[index],\n                  img: imgsOld[index],\n                },\n              }}\n              active=\"true\"\n              exact=\"true\"\n            >\n              <Card\n                cities={locationsOld[index]}\n                img={imgsOld[index]}\n                country={c}\n              />\n            </Link>\n          ))}\n        </div>\n      ) : (\n        <h5 className=\"empty\">Empty Collection</h5>\n      )}\n    </div>\n  );\n}\n\nexport default Displayer;\n"]},"metadata":{},"sourceType":"module"}