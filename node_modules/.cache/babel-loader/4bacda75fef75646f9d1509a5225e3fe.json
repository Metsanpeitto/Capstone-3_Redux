{"ast":null,"code":"const FILTER_COUNTRIES = 'locationStore/filter/FILTER_COUNTRIES';\nconst FILTER_REFRESH = 'locationStore/filter/FILTER_REFRESH';\nconst initialState = {\n  countriesFiltered: null,\n  value: '-',\n  countries: ['Finland', 'Sweden', 'Norway', 'Denmark']\n};\nexport const filterCountries = payload => ({\n  type: FILTER_COUNTRIES,\n  payload\n});\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FILTER_COUNTRIES:\n      {\n        const {\n          value,\n          europe\n        } = action.payload;\n        const {\n          countries\n        } = state;\n        let newCountries = [];\n\n        if (countries.length > 0) {\n          if (value === '-') {\n            newCountries = null;\n          } else {\n            countries.forEach(c => {\n              if (c === value) {\n                newCountries.push(c);\n              }\n            });\n          }\n        }\n\n        return {\n          countriesFiltered: newCountries,\n          value,\n          countries: europe\n        };\n      }\n\n    case FILTER_REFRESH:\n      {\n        const {\n          value,\n          countries\n        } = state;\n        let newCountries = countries;\n\n        if (countries) {\n          if (countries.length > 0) {\n            if (value !== '-') {\n              newCountries = [];\n              countries.forEach(c => {\n                if (c.category === value) {\n                  newCountries.push(c);\n                }\n              });\n            }\n          }\n        }\n\n        return {\n          countriesFiltered: newCountries,\n          value,\n          countries\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/jarri/Desktop/Work/Microverse/capstones/capstone-3-files/capstone-3_redux/src/redux/filter/filter.js"],"names":["FILTER_COUNTRIES","FILTER_REFRESH","initialState","countriesFiltered","value","countries","filterCountries","payload","type","reducer","state","action","europe","newCountries","length","forEach","c","push","category"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,uCAAzB;AACA,MAAMC,cAAc,GAAG,qCAAvB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,iBAAiB,EAAE,IADA;AAEnBC,EAAAA,KAAK,EAAE,GAFY;AAGnBC,EAAAA,SAAS,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,QAAtB,EAAgC,SAAhC;AAHQ,CAArB;AAMA,OAAO,MAAMC,eAAe,GAAIC,OAAD,KAAc;AAC3CC,EAAAA,IAAI,EAAER,gBADqC;AAE3CO,EAAAA;AAF2C,CAAd,CAAxB;;AAKP,MAAME,OAAO,GAAG,CAACC,KAAK,GAAGR,YAAT,EAAuBS,MAAvB,KAAkC;AAChD,UAAQA,MAAM,CAACH,IAAf;AACE,SAAKR,gBAAL;AAAuB;AACrB,cAAM;AAAEI,UAAAA,KAAF;AAASQ,UAAAA;AAAT,YAAoBD,MAAM,CAACJ,OAAjC;AACA,cAAM;AAAEF,UAAAA;AAAF,YAAgBK,KAAtB;AACA,YAAIG,YAAY,GAAG,EAAnB;;AACA,YAAIR,SAAS,CAACS,MAAV,GAAmB,CAAvB,EAA0B;AACxB,cAAIV,KAAK,KAAK,GAAd,EAAmB;AACjBS,YAAAA,YAAY,GAAG,IAAf;AACD,WAFD,MAEO;AACLR,YAAAA,SAAS,CAACU,OAAV,CAAmBC,CAAD,IAAO;AACvB,kBAAIA,CAAC,KAAKZ,KAAV,EAAiB;AACfS,gBAAAA,YAAY,CAACI,IAAb,CAAkBD,CAAlB;AACD;AACF,aAJD;AAKD;AACF;;AACD,eAAO;AACLb,UAAAA,iBAAiB,EAAEU,YADd;AAELT,UAAAA,KAFK;AAGLC,UAAAA,SAAS,EAAEO;AAHN,SAAP;AAKD;;AACD,SAAKX,cAAL;AAAqB;AACnB,cAAM;AAAEG,UAAAA,KAAF;AAASC,UAAAA;AAAT,YAAuBK,KAA7B;AACA,YAAIG,YAAY,GAAGR,SAAnB;;AACA,YAAIA,SAAJ,EAAe;AACb,cAAIA,SAAS,CAACS,MAAV,GAAmB,CAAvB,EAA0B;AACxB,gBAAIV,KAAK,KAAK,GAAd,EAAmB;AACjBS,cAAAA,YAAY,GAAG,EAAf;AACAR,cAAAA,SAAS,CAACU,OAAV,CAAmBC,CAAD,IAAO;AACvB,oBAAIA,CAAC,CAACE,QAAF,KAAed,KAAnB,EAA0B;AACxBS,kBAAAA,YAAY,CAACI,IAAb,CAAkBD,CAAlB;AACD;AACF,eAJD;AAKD;AACF;AACF;;AAED,eAAO;AACLb,UAAAA,iBAAiB,EAAEU,YADd;AAELT,UAAAA,KAFK;AAGLC,UAAAA;AAHK,SAAP;AAKD;;AACD;AACE,aAAOK,KAAP;AA7CJ;AA+CD,CAhDD;;AAkDA,eAAeD,OAAf","sourcesContent":["const FILTER_COUNTRIES = 'locationStore/filter/FILTER_COUNTRIES';\nconst FILTER_REFRESH = 'locationStore/filter/FILTER_REFRESH';\n\nconst initialState = {\n  countriesFiltered: null,\n  value: '-',\n  countries: ['Finland', 'Sweden', 'Norway', 'Denmark'],\n};\n\nexport const filterCountries = (payload) => ({\n  type: FILTER_COUNTRIES,\n  payload,\n});\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FILTER_COUNTRIES: {\n      const { value, europe } = action.payload;\n      const { countries } = state;\n      let newCountries = [];\n      if (countries.length > 0) {\n        if (value === '-') {\n          newCountries = null;\n        } else {\n          countries.forEach((c) => {\n            if (c === value) {\n              newCountries.push(c);\n            }\n          });\n        }\n      }\n      return {\n        countriesFiltered: newCountries,\n        value,\n        countries: europe,\n      };\n    }\n    case FILTER_REFRESH: {\n      const { value, countries } = state;\n      let newCountries = countries;\n      if (countries) {\n        if (countries.length > 0) {\n          if (value !== '-') {\n            newCountries = [];\n            countries.forEach((c) => {\n              if (c.category === value) {\n                newCountries.push(c);\n              }\n            });\n          }\n        }\n      }\n\n      return {\n        countriesFiltered: newCountries,\n        value,\n        countries,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}