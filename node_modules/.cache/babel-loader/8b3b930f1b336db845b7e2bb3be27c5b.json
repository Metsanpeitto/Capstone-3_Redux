{"ast":null,"code":"const FILTER_COUNTRIES = 'locationStore/filter/FILTER_COUNTRIES';\nconst FILTER_REFRESH = 'locationStore/filter/FILTER_REFRESH';\nconst initialState = {\n  countriesFiltered: null,\n  value: '-',\n  countries: ['Finland', 'Norway', 'Sweden']\n};\nexport const filterCountries = payload => ({\n  type: FILTER_COUNTRIES,\n  payload\n});\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FILTER_COUNTRIES:\n      {\n        const {\n          value,\n          countries\n        } = action.payload;\n        let newCountries = [];\n\n        if (countries.length > 0) {\n          if (value === '-') {\n            newCountries = null;\n          } else {\n            countries.forEach(b => {\n              if (b.category === value) {\n                newCountries.push(b);\n              }\n            });\n          }\n        }\n\n        return {\n          countriesFiltered: newCountries,\n          value,\n          countries\n        };\n      }\n\n    case FILTER_REFRESH:\n      {\n        const {\n          countries\n        } = action.payload;\n        const {\n          value\n        } = state;\n        let newCountries = countries;\n\n        if (countries) {\n          if (countries.length > 0) {\n            if (value !== '-') {\n              newCountries = [];\n              countries.forEach(c => {\n                if (c.category === value) {\n                  newCountries.push(c);\n                }\n              });\n            }\n          }\n        }\n\n        return {\n          booksFiltered: newCollection,\n          value\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/jarri/Desktop/Work/Microverse/capstones/capstone-3-files/capstone-3_redux/src/redux/filter/filter.js"],"names":["FILTER_COUNTRIES","FILTER_REFRESH","initialState","countriesFiltered","value","countries","filterCountries","payload","type","reducer","state","action","newCountries","length","forEach","b","category","push","c","booksFiltered","newCollection"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,uCAAzB;AACA,MAAMC,cAAc,GAAG,qCAAvB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,iBAAiB,EAAE,IADA;AAEnBC,EAAAA,KAAK,EAAE,GAFY;AAGnBC,EAAAA,SAAS,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,QAAtB;AAHQ,CAArB;AAMA,OAAO,MAAMC,eAAe,GAAIC,OAAD,KAAc;AAC3CC,EAAAA,IAAI,EAAER,gBADqC;AAE3CO,EAAAA;AAF2C,CAAd,CAAxB;;AAKP,MAAME,OAAO,GAAG,CAACC,KAAK,GAAGR,YAAT,EAAuBS,MAAvB,KAAkC;AAChD,UAAQA,MAAM,CAACH,IAAf;AACE,SAAKR,gBAAL;AAAuB;AACrB,cAAM;AAAEI,UAAAA,KAAF;AAASC,UAAAA;AAAT,YAAuBM,MAAM,CAACJ,OAApC;AACA,YAAIK,YAAY,GAAG,EAAnB;;AACA,YAAIP,SAAS,CAACQ,MAAV,GAAmB,CAAvB,EAA0B;AACxB,cAAIT,KAAK,KAAK,GAAd,EAAmB;AACjBQ,YAAAA,YAAY,GAAG,IAAf;AACD,WAFD,MAEO;AACLP,YAAAA,SAAS,CAACS,OAAV,CAAmBC,CAAD,IAAO;AACvB,kBAAIA,CAAC,CAACC,QAAF,KAAeZ,KAAnB,EAA0B;AACxBQ,gBAAAA,YAAY,CAACK,IAAb,CAAkBF,CAAlB;AACD;AACF,aAJD;AAKD;AACF;;AACD,eAAO;AACLZ,UAAAA,iBAAiB,EAAES,YADd;AAELR,UAAAA,KAFK;AAGLC,UAAAA;AAHK,SAAP;AAKD;;AACD,SAAKJ,cAAL;AAAqB;AACnB,cAAM;AAAEI,UAAAA;AAAF,YAAgBM,MAAM,CAACJ,OAA7B;AACA,cAAM;AAAEH,UAAAA;AAAF,YAAYM,KAAlB;AACA,YAAIE,YAAY,GAAGP,SAAnB;;AACA,YAAIA,SAAJ,EAAe;AACb,cAAIA,SAAS,CAACQ,MAAV,GAAmB,CAAvB,EAA0B;AACxB,gBAAIT,KAAK,KAAK,GAAd,EAAmB;AACjBQ,cAAAA,YAAY,GAAG,EAAf;AACAP,cAAAA,SAAS,CAACS,OAAV,CAAmBI,CAAD,IAAO;AACvB,oBAAIA,CAAC,CAACF,QAAF,KAAeZ,KAAnB,EAA0B;AACxBQ,kBAAAA,YAAY,CAACK,IAAb,CAAkBC,CAAlB;AACD;AACF,eAJD;AAKD;AACF;AACF;;AAED,eAAO;AACLC,UAAAA,aAAa,EAAEC,aADV;AAELhB,UAAAA;AAFK,SAAP;AAID;;AACD;AACE,aAAOM,KAAP;AA5CJ;AA8CD,CA/CD;;AAiDA,eAAeD,OAAf","sourcesContent":["const FILTER_COUNTRIES = 'locationStore/filter/FILTER_COUNTRIES';\nconst FILTER_REFRESH = 'locationStore/filter/FILTER_REFRESH';\n\nconst initialState = {\n  countriesFiltered: null,\n  value: '-',\n  countries: ['Finland', 'Norway', 'Sweden'],\n};\n\nexport const filterCountries = (payload) => ({\n  type: FILTER_COUNTRIES,\n  payload,\n});\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FILTER_COUNTRIES: {\n      const { value, countries } = action.payload;\n      let newCountries = [];\n      if (countries.length > 0) {\n        if (value === '-') {\n          newCountries = null;\n        } else {\n          countries.forEach((b) => {\n            if (b.category === value) {\n              newCountries.push(b);\n            }\n          });\n        }\n      }\n      return {\n        countriesFiltered: newCountries,\n        value,\n        countries,\n      };\n    }\n    case FILTER_REFRESH: {\n      const { countries } = action.payload;\n      const { value } = state;\n      let newCountries = countries;\n      if (countries) {\n        if (countries.length > 0) {\n          if (value !== '-') {\n            newCountries = [];\n            countries.forEach((c) => {\n              if (c.category === value) {\n                newCountries.push(c);\n              }\n            });\n          }\n        }\n      }\n\n      return {\n        booksFiltered: newCollection,\n        value,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}